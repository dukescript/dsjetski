/**
 * Copyright (c) 2014, 2015, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/internal-deps/datagrid/DvtDataGrid","ojs/ojcomponentcore","ojs/ojdatacollection-common","ojs/ojinputnumber","ojs/ojmenu","ojs/ojdialog","ojs/ojpagingcontrol"],function(a,f,d){a.hb=function(b,c){if(!(b instanceof Array)&&"function"!=typeof b&&"function"!=typeof b.Dha)throw Error("_ERR_DATA_INVALID_TYPE_SUMMARY\n_ERR_DATA_INVALID_TYPE_DETAIL");null!=c&&(this.Gp=c.rowHeader,this.columns=c.columns);a.hb.q.constructor.call(this,b)};o_("ArrayDataGridDataSource",a.hb,a);
a.b.ga(a.hb,a.fc,"oj.ArrayDataGridDataSource");a.hb.prototype.Init=function(){null==this.columns&&(this.columns=this.G7(this.Zi()));this.V$();"function"==typeof this.data&&this.data.subscribe(this.Yda.bind(this),null,"arrayChange");a.hb.q.Init.call(this)};a.b.i("ArrayDataGridDataSource.prototype.Init",{Init:a.hb.prototype.Init});a.hb.prototype.V$=function(){var a;a=this.Zi();for(this.vp=0;this.vp<a.length;this.vp+=1)a[this.vp].ojKey=this.vp.toString()};a.hb.prototype.G7=function(a){var c,d;if("number"!==
typeof a.length||0===a.length)return[];d=[];for(c in a[0])a[0].hasOwnProperty(c)&&(void 0!=this.Gp&&c==this.Gp||d.push(c));return d};a.hb.prototype.R=function(a){return"row"===a?this.Qi():"column"===a?this.columns.length:0};a.b.i("ArrayDataGridDataSource.prototype.getCount",{R:a.hb.prototype.R});a.hb.prototype.wR=function(a,c){var d;if("row"===a)return d=this.Zi(),void 0!=this.Gp?d[c][this.Gp]:0<d.length&&d[0]instanceof Array?void 0===this.wu(c)?c.toString():this.wu(c):null;if("column"===a)return this.columns[c]};
a.hb.prototype.e8=function(a,c){return"row"===a&&void 0!=this.Gp?{key:this.wu(c)}:{key:this.wR(a,c)}};a.hb.prototype.Sd=function(b,c,d){var g,f,k,l;g=b.axis;f=b.start;k=b.count;a.j.assert("row"===g||"column"===g);a.j.assert(f<this.R(g));a.j.assert(0<k);f=Math.max(0,f);"column"===g?k=Math.min(this.columns.length,f+k):(l=this.Zi(),k=void 0!==this.Gp||0<l.length&&l[0]instanceof Array?Math.min(l.length,f+k):f);g=new a.td(f,k,g,this);null!=c&&null!=c.success&&(null==d&&(d={}),c.success.call(d.success,
g,b))};a.b.i("ArrayDataGridDataSource.prototype.fetchHeaders",{Sd:a.hb.prototype.Sd});a.hb.prototype.z7=function(a,c){var d=this.columns[c];return this.Zi()[a][d]};a.hb.prototype.A7=function(a,c){return{keys:{row:this.wu(a),column:this.columns[c]}}};a.hb.prototype.ke=function(b,c,d){var g,f,k,l,m,n;for(g=0;g<b.length;g+=1)f=b[g],a.j.assert("row"===f.axis||"column"===f.axis),a.j.assert(f.start<this.R(f.axis)),a.j.assert(0<f.count),"row"===f.axis?(k=f.start,l=Math.min(this.Qi(),k+f.count)):"column"===
f.axis&&(m=f.start,n=Math.min(this.columns.length,m+f.count));void 0===l||void 0===n?null!=c&&null!=c.error&&(null==d&&(d={}),c.error.call(d.error)):(g=new a.wf(k,l,m,n,this),null!=c&&null!=c.success&&(null==d&&(d={}),c.success.call(d.success,g,b)))};a.b.i("ArrayDataGridDataSource.prototype.fetchCells",{ke:a.hb.prototype.ke});a.hb.prototype.keys=function(a){var c=a.row,d=a.column;return new Promise(function(a){a({row:this.wu(c),column:this.columns[d]})}.bind(this))};a.b.i("ArrayDataGridDataSource.prototype.keys",
{keys:a.hb.prototype.keys});a.hb.prototype.oe=function(a){var c=a.row,d=a.column;return new Promise(function(a){a({row:this.rz(c),column:this.columns.indexOf(d)})}.bind(this))};a.b.i("ArrayDataGridDataSource.prototype.indexes",{oe:a.hb.prototype.oe});a.hb.prototype.sort=function(a,c,d){var g=[],f=[],k,l;null!=c&&null==d&&(d={});if(null==a)this.dI(c,d);else if(k=a.axis,l=a.key,a=a.direction,"column"===k)void 0==this.Cp&&(this.Cp=this.data.slice()),this.Zi().sort(this.fU(a,l)),null!=c&&null!=c.success&&
c.success.call(d.success);else if("row"===k){l=this.rz(l);for(k=0;k<this.columns.length;k+=1)g[k]=this.Zi()[l][this.columns[k]];g.sort(this.fU(a));for(k=0;k<this.columns.length;k+=1)f[k]=this.columns[g.indexOf(this.Zi()[l][this.columns[k]])];this.WZ=this.columns;this.columns=f;null!=c&&null!=c.success&&c.success.call(d.success)}else null!==c&&null!=c.error&&c.error.call(d.error,"Invalid axis value")};a.b.i("ArrayDataGridDataSource.prototype.sort",{sort:a.hb.prototype.sort});a.hb.prototype.dI=function(a,
c){null!=this.Cp&&(this.data=this.Cp);null!=this.WZ&&(this.columns=this.WZ);null!=a&&null!=a.success&&a.success.call(c.success)};a.hb.prototype.getCapability=function(a){return"sort"===a?"column":"move"===a?"row":null};a.b.i("ArrayDataGridDataSource.prototype.getCapability",{getCapability:a.hb.prototype.getCapability});a.hb.prototype.fU=function(a,c){if("ascending"===a)return function(a,b){var d,f;void 0!=c&&(a instanceof Array?(a=a[parseInt(c,10)],b=b[parseInt(c,10)]):(a=a[c],b=b[c]));d=isNaN(a);
f=isNaN(b);a instanceof Date&&(a=a.toISOString(),d=!0);b instanceof Date&&(b=b.toISOString(),f=!0);return d&&f?a<b?-1:a===b?0:1:d?1:f?-1:a-b};if("descending"===a)return function(a,b){var d,f;void 0!=c&&(a instanceof Array?(a=a[parseInt(c,10)],b=b[parseInt(c,10)]):(a=a[c],b=b[c]));d=isNaN(a);f=isNaN(b);a instanceof Date&&(a=a.toISOString(),d=!0);b instanceof Date&&(b=b.toISOString(),f=!0);return d&&f?a>b?-1:a===b?0:1:d?-1:f?1:b-a}};a.hb.prototype.move=function(a,c){var d,g,f;d=this.rz(a);g=this.data.splice(d,
1)[0];this.data instanceof Array&&(d=this.Dj("delete",a,null,d,-1,!0),this.handleEvent("change",d));null===c?this.data.push(g):(f=this.rz(c),this.data.splice(f,0,g));this.data instanceof Array&&(d=this.Dj("insert",a,null,f,-1),this.handleEvent("change",d));null!=this.Cp&&(this.Cp=this.data.slice())};a.b.i("ArrayDataGridDataSource.prototype.move",{move:a.hb.prototype.move});a.hb.prototype.Zi=function(){return"function"===typeof this.data?this.data():this.data};a.hb.prototype.rz=function(a){var c,d=
this.Zi();for(c=0;c<d.length;c++)if(d[c].ojKey===a)return c;return-1};a.hb.prototype.wu=function(a){var c=this.Zi();return c[a]?c[a].ojKey:null};a.hb.prototype.Dj=function(a,c,d,g,f,k){var l={source:this};l.operation=a;l.keys={row:c,column:d};l.indexes={row:g,column:f};l.silent=k;return l};a.hb.prototype.Yda=function(a){var c,d,g,f=!1;d=!1;var k=[],l=[];for(c=0;c<a.length;c++){g=a[c];if(void 0!==g.moved){d=!0;g=this.Dj("refresh",null,null);this.handleEvent("change",g);break}"added"===g.status&&(f=
!0)}if(!d){for(c=0;c<a.length;c++)g=a[c],"deleted"===g.status&&(d=g.value,g=g.index,d=d.ojKey,k.push({row:d,column:-1}),l.push({row:g,column:-1}));0<k.length&&(g={source:this,operation:"delete",keys:k,indexes:l,silent:f},this.handleEvent("change",g));for(c=0;c<a.length;c++)g=a[c],"added"===g.status&&(d=g.value,g=g.index,null==d.ojKey&&(d.ojKey=this.vp.toString(),this.vp++),d=d.ojKey,g=this.Dj("insert",d,null,g,-1),this.handleEvent("change",g))}null!=this.Cp&&(this.Cp=this.data.slice())};a.hb.prototype.Qi=
function(){return this.Zi().length};a.hb.prototype.HY=function(){return this.Gp};a.b.i("ArrayDataGridDataSource.prototype.getRowHeaderKey",{HY:a.hb.prototype.HY});a.hb.prototype.jn=function(){return this.columns};a.b.i("ArrayDataGridDataSource.prototype.getColumns",{jn:a.hb.prototype.jn});a.hb.prototype.getData=function(){return this.data};a.b.i("ArrayDataGridDataSource.prototype.getData",{getData:a.hb.prototype.getData});a.zh=function(b,c){this.nha=b;this.Iha=c;this.Pa={};this.Pa.datagrid="oj-datagrid";
this.Pa.cell="oj-datagrid-cell";this.Pa.cellcontent="oj-datagrid-cell-content";this.Pa.celltext="oj-datagrid-cell-text";this.Pa.banded="oj-datagrid-banded";this.Pa.row="oj-datagrid-row";this.Pa.databody="oj-datagrid-databody";this.Pa.topcorner="oj-datagrid-top-corner";this.Pa.bottomcorner="oj-datagrid-bottom-corner";this.Pa.rowheaderspacer="oj-datagrid-row-header-spacer";this.Pa.colheaderspacer="oj-datagrid-column-header-spacer";this.Pa.status="oj-datagrid-status";this.Pa.emptytext="oj-datagrid-empty-text";
this.Pa.header="oj-datagrid-header";this.Pa.groupingcontainer="oj-datagrid-header-grouping";this.Pa.headercell="oj-datagrid-header-cell";this.Pa.headercelltext="oj-datagrid-header-cell-text";this.Pa.headercellcontent="oj-datagrid-header-cell-content";this.Pa.rowheader="oj-datagrid-row-header";this.Pa.colheader="oj-datagrid-column-header";this.Pa.colheadercell="oj-datagrid-column-header-cell";this.Pa.rowheadercell="oj-datagrid-row-header-cell";this.Pa["scroller-mobile"]="oj-datagrid-scroller-touch";
this.Pa.scroller="oj-datagrid-scroller";this.Pa.scrollers="oj-datagrid-scrollers";this.Pa.focus="oj-focus";this.Pa.hover="oj-hover";this.Pa.active="oj-active";this.Pa.selected="oj-selected";this.Pa.disabled="oj-disabled";this.Pa.enabled="oj-enabled";this.Pa["default"]="oj-default";this.Pa.sortcontainer="oj-datagrid-sort-icon-container";this.Pa.sortascending="oj-datagrid-sort-ascending-icon";this.Pa.sortdescending="oj-datagrid-sort-descending-icon";this.Pa.icon="oj-component-icon";this.Pa.clickableicon=
"oj-clickable-icon-nocontext";this.Pa.info="oj-helper-hidden-accessible";this.Pa.rowexpander="oj-rowexpander";this.Pa.cut="oj-datagrid-cut";this.Pa.selectaffordancetop="oj-datagrid-touch-selection-affordance-top";this.Pa.selectaffordancebottom="oj-datagrid-touch-selection-affordance-bottom";this.Pa.toucharea="oj-datagrid-touch-area";this.Pa.draggable="oj-draggable";this.Pa.drag="oj-drag";this.Pa.drop="oj-drop";this.Pa.activedrop="oj-active-drop";this.Pa.validdrop="oj-valid-drop";this.Pa.invaliddrop=
"oj-invalid-drop";this.Dg={};this.Dg.sortCol="oj-datagrid-sortCol";this.Dg.sortColAsc="oj-datagrid-sortColAsc";this.Dg.sortColDsc="oj-datagrid-sortColDsc";this.Dg.sortRow="oj-datagrid-sortRow";this.Dg.sortRowAsc="oj-datagrid-sortRowAsc";this.Dg.sortRowDsc="oj-datagrid-sortRowDsc";this.Dg.resize="oj-datagrid-resize";this.Dg.resizeWidth="oj-datagrid-resizeWidth";this.Dg.resizeHeight="oj-datagrid-resizeHeight";this.Dg.cut="oj-datagrid-cut";this.Dg.paste="oj-datagrid-paste";this.Dg.discontiguousSelection=
"oj-datagrid-discontiguousSelection";this.attributes={};this.attributes.key="data-oj-key";this.attributes.resizable="data-oj-resizable";this.attributes.sortable="data-oj-sortable";this.attributes.sortDir="data-oj-sortdir";this.attributes.expander="data-oj-expander";this.attributes.expanderIndex="data-oj-expander-index";this.attributes.container=a.Components.Cx;this.attributes.extent="data-oj-extent";this.attributes.start="data-oj-start";this.attributes.depth="data-oj-depth";this.attributes.level=
"data-oj-level"};o_("DataGridResources",a.zh,a);a.zh.prototype.pZ=function(){return"rtl"===this.nha?!0:!1};a.b.i("DataGridResources.prototype.isRTLMode",{pZ:a.zh.prototype.pZ});a.zh.prototype.UY=function(a,c){return this.Iha(a,c)};a.b.i("DataGridResources.prototype.getTranslatedText",{UY:a.zh.prototype.UY});a.zh.prototype.UJ=function(a){return null!=a?this.Pa[a]:null};a.b.i("DataGridResources.prototype.getMappedStyle",{UJ:a.zh.prototype.UJ});a.zh.prototype.wB=function(a){return null!=a?this.Dg[a]:
null};a.b.i("DataGridResources.prototype.getMappedCommand",{wB:a.zh.prototype.wB});a.zh.prototype.TJ=function(a){return null!=a?this.attributes[a]:null};a.b.i("DataGridResources.prototype.getMappedAttribute",{TJ:a.zh.prototype.TJ});a.Da("oj.ojDataGrid",f.oj.baseComponent,{widgetEventPrefix:"oj",options:{bandingInterval:{row:0,column:0},data:null,gridlines:{horizontal:"visible",vertical:"visible"},scrollPosition:null,selectionMode:null,dnd:{reorder:{row:"disable"}},scrollPolicy:"auto",selection:[],
header:{row:{className:null,renderer:null,resizable:{width:"disable",height:"disable"},sortable:"auto",style:null},column:{className:null,renderer:null,resizable:{width:"disable",height:"disable"},sortable:"auto",style:null}},cell:{className:null,renderer:null,style:null},resize:null,sort:null,optionChange:null},_ComponentCreate:function(){this._super();this.root=this.element[0];this.Lg=this.root.getAttribute("id");this.grid=new d;this.grid.setVisibility(d.VISIBILITY_STATE_RENDER);f(this.root).addClass("oj-datagrid oj-component");
this.VK={data:"all",header:["className","renderer","style","template"]}},Ug:function(){var b=this;this.Pv(this.root);f(this.root).empty();this._super();this.Fp=new a.zh(this.hc(),this.rG.bind(b));this.RV();this.Cv();null!=this.kc&&(this.nO(),this.grid.SetDataSource(this.kc));this.grid.SetOptions(this.options);this.grid.SetResources(this.Fp);this.grid.SetCreateContextCallback(this.$aa.bind(b));this.grid.SetRemoveCallback(this.WH.bind(b));this.grid.addListener("resize",function(a){b._trigger("resize",
a.event,a.ui)});this.grid.addListener("select",function(a){b.option("selection",a.ui.selection,{_context:{originalEvent:a.event,mb:!0},changed:!0})});this.grid.addListener("sort",function(a){b._trigger("sort",a.event,a.ui)});this.grid.addListener("keydown",function(a){b._trigger("keydown",a.event,a.ui)});this.grid.addListener("active",function(a){b._trigger("active",a.event,a.ui)});this.iv();null!=this.kc&&this.Qm(this.root)},refresh:function(){this._super();this.Pv(this.root);f(this.root).empty();
!0===this.Jea&&(this.options.contextMenu=null);this.RV();null!=this.kc&&(this.kc instanceof a.Za&&(this.kc.Ae(),this.kc.Init()),this.nO(),this.grid.SetDataSource(this.kc));this.grid.SetOptions(this.options);this.grid.SetResources(this.Fp);this.grid.getVisibility()!=d.VISIBILITY_STATE_RENDER&&this.grid.setVisibility(d.VISIBILITY_STATE_REFRESH);this.iv();null!=this.kc&&this.Qm(this.root)},_destroy:function(){null!=this.kc&&this.kc.Ae&&this.kc.Ae();this.grid.destroy();this.Pv(this.root);f(this.root).empty()},
_setOptions:function(a,c){var d;this.kc?(d=this.Nda(a),this._super(a,c),d?this.refresh():this.grid.UpdateOptions(a)):(this._super(a,c),null!=a.data&&this.refresh())},vk:function(){this._super();this.iv()},$l:function(){this._super();this.grid.getVisibility()===d.VISIBILITY_STATE_VISIBLE&&this.grid.setVisibility(d.VISIBILITY_STATE_HIDDEN)},Zl:function(){this._super();this.iv()},yi:function(){this._super();this.grid.getVisibility()===d.VISIBILITY_STATE_VISIBLE&&this.grid.setVisibility(d.VISIBILITY_STATE_HIDDEN)},
Nda:function(b){var c,d,g,f,k,l;g=!1;for(d in b)if(d in this.VK)if("data"===d){g=!0;break}else if("header"==d)for(f in b.header){if("column"==f||"row"==f||"cell"==f)for(k in b.header[f]){for(c=0;c<this.VK.header.length;c++)if(k==this.VK.header[c])for(l in this.options.header[f])if(l==k&&b.header[f][k]!=this.options.header[f][k]){g=!0;break}if(g)break}if(g)break}else for(l in this.options)if(l==d&&!a.b.Eg(b[d],this.options[l])){g=!0;break}return g},Mz:function(a,c){return this.options.header[a]&&this.options.header[a].resizable?
"disable"!==this.options.header[a].resizable[c]:!1},CT:function(a){return this.options.header[a]?"disable"!==this.options.header[a].sortable:!1},nO:function(){var b,c,d=null,g=null,h=null,k=null,l,m;b=this;if(null==this.options.contextMenu){if(null!=this.kc){c=f("\x3cul\x3e");c.css("display","none").attr("id",this.Lg+"contextmenu");f(this.root).append(c);if(this.Mz("column","width")||this.Mz("column","height")||this.Mz("row","width")||this.Mz("row","height"))d=this.Ci("resize");l=this.kc.getCapability("sort");
!this.CT("column")||"column"!==l&&"full"!==l||(g=this.Ci("sortCol"));!this.CT("row")||"row"!==l&&"full"!==l||(g=null!=g?g.add(this.Ci("sortRow")):this.Ci("sortRow"));if("enable"===this.options.dnd.reorder.row)switch(this.kc.getCapability("move")){case "none":break;default:k=this.If("cut").add(this.If("paste"))}this.Ji()&&a.C.sf()&&(this.Ey=!1,h=this.If("discontiguousSelection"));if(null!=d||null!=g||null!=k||null!=h)c.append(d).append(g).append(k).append(h),c.ojMenu(),this.Jea=!0,this._setOption("contextMenu",
"#"+c.attr("id")),c.on("ojselect",this.Ii.bind(this))}}else null==this.pH&&(this.pH=[]),c=f(this.options.contextMenu),d=c.find("[data-oj-command]"),m=[],d.each(function(){var a;a=f(this).children("a");if(0===a.length||-1!=b.pH.indexOf(a.get(0)))a=f(this).attr("data-oj-command").split("-"),a=b.Ci(a[a.length-1]),f(this).replaceWith(a),m.push(a.children("a").get(0))}),this.pH=m,c.ojMenu("refresh"),c.on("ojselect",this.Ii.bind(this))},Ci:function(a){if("resize"===a)return this.If("resize").append(f("\x3cul\x3e\x3c/ul\x3e").append(this.If("resizeWidth")).append(this.If("resizeHeight")));
if("sortCol"===a)return this.If("sortCol").append(f("\x3cul\x3e\x3c/ul\x3e").append(this.If("sortColAsc")).append(this.If("sortColDsc")));if("sortRow"===a)return this.If("sortRow").append(f("\x3cul\x3e\x3c/ul\x3e").append(this.If("sortRowAsc")).append(this.If("sortRowDsc")));if(-1!=Object.keys(this.Fp.Dg).indexOf(a))return f(this.If(a))},If:function(a){var c=f("\x3cli\x3e\x3c/li\x3e");c.attr("data-oj-command",this.Lk(a));c.append(this.cE(a));return c},cE:function(a){var c="label"+a.charAt(0).toUpperCase()+
a.slice(1);"discontiguousSelection"===a&&(c="labelEnableNonContiguous");return f('\x3ca href\x3d"#"\x3e\x3c/a\x3e').text(this.rG(c))},lR:function(){return f(this.options.contextMenu).get(0)},rG:function(a,c){return this.D(a,c)},a$:function(){var a=f("#"+this.Lg+"spinner").ojInputNumber("option","value");f("#"+this.Lg+"dialog").ojDialog("close");this.grid.handleContextMenuReturn(this.gs,this.bj,a);this.gs.target.focus()},H4:function(a,c){var d,g,h,k,l;d=f("#"+this.Lg+"dialog");h=f("#"+this.Lg+"spinner");
0===d.length||0===h.length?(d=f("\x3cdiv\x3e"),d.attr("id",this.Lg+"dialog"),d.attr("title",a),g=f('\x3cdiv class\x3d"oj-dialog-body"\x3e\x3c/div\x3e'),k=f('\x3cdiv class\x3d"oj-dialog-footer"\x3e\x3c/div\x3e'),d.append(g).append(k),h=f('\x3cinput id\x3d"'+this.Lg+'spinner"/\x3e'),l=f('\x3cbutton id\x3d"'+this.Lg+'dialogsubmit"/\x3e'),g.append(h),k.append(l),f(this.root).append(d),l.ojButton({Aa:"ojButton",label:"OK"}),l.on("click",this.a$.bind(this)),h.ojInputNumber({Aa:"ojInputNumber",max:1E3,min:20,
step:1,value:c}),d.ojDialog({initialVisibility:"show",position:{my:"center center",at:"center center",collision:"none",of:f(this.root)}})):(h.ojInputNumber("option","value",c),f("#"+this.Lg+"dialog").ojDialog("open"))},Ii:function(a,c){var d;this.bj=c.item.attr("data-oj-command");this.bj===this.Lk("sortColAsc")||this.bj===this.Lk("sortColDsc")||this.bj===this.Lk("cut")||this.bj===this.Lk("paste")?this.grid.handleContextMenuReturn(this.gs,this.bj,null):this.bj===this.Lk("resizeWidth")||this.bj===this.Lk("resizeHeight")?
(d=f(this.gs.target).closest("."+this.ef("cell")),0==d.length&&(d=f(this.gs.target).closest("."+this.ef("headercell"))),0<d.length&&(d=this.bj===this.Lk("resizeWidth")?d.outerWidth():d.outerHeight(),this.H4(c.item.text(),d))):this.bj===this.Lk("discontiguousSelection")&&(this.Ey=!this.Ey,this.grid.handleContextMenuReturn(this.gs,this.bj,this.Ey),d=this.Ey?"labelDisableNonContiguous":"labelEnableNonContiguous",c.item.children().first().text(this.rG(d)))},Xe:function(a,c,d){this.grid.handleContextMenuGesture(c,
d,this.w5.bind(this))},w5:function(a,c,d){var g;null!=a&&(this.gs=c.originalEvent,g=a.launcher,a=a.capabilities,this.Qaa(a),g="keyboard"===d?{position:{of:g},launcher:f(g)}:{launcher:f(g)},this.Ye(c,d,g))},K3:function(a){var c;c=f(this.lR());c.find("[data-oj-command\x3d"+a+"]").hasClass("oj-disabled")||c.find("[data-oj-command\x3d"+a+"]").addClass("oj-disabled")},tca:function(a){f(this.lR()).find("[data-oj-command\x3d"+a+"]").removeClass("oj-disabled")},Qaa:function(a){var c,d;for(c in a)a.hasOwnProperty(c)&&
(d=this.Fp.wB(c),"disable"===a[c]?this.K3(d):this.tca(d))},j7:function(a){var c;c=a.parent();a=a.index();return{rowIndex:c.index()-1,columnIndex:a}},hia:function(a){var c;c=this.H8().children().eq(0).children().eq(a.rowIndex+1);a=this.F7().children().eq(0).children().eq(a.columnIndex);return{rowHeader:c,columnHeader:a}},tR:function(){return f(this.root)},F7:function(){return f("#"+this.Lg+"\\:columnHeader")},H8:function(){return f("#"+this.Lg+"\\:rowHeader")},L7:function(){return f("#"+this.Lg+"\\:databody ."+
this.ef("row"))},RV:function(){this.kc=null!=this.options.data?this.options.data:null},Cv:function(){var a=this.options.selection;null!=a&&this.grid.SetSelection(a)},$aa:function(a){a.component=this},vA:function(a){this.grid.SetAccessibleContext(a)},Pv:function(b){b&&this.eh&&a.C.gj(b,this.eh)},Qm:function(b){b&&(null==this.eh&&(this.eh=this.Nf.bind(this)),a.C.jh(b,this.eh))},Nf:function(a,c){0<a&&0<c&&(this.iv(),this.grid.HandleResize(a,c))},getNodeBySubId:function(a){var c,d,g,h;if(null==a)return this.element?
this.element[0]:null;c=a.subId;return"oj-datagrid-cell"===c?(c=a.rowIndex-this.grid.getStartRow(),a=a.columnIndex-this.grid.getStartColumn(),this.L7().eq(c).children().eq(a).get(0)):"oj-datagrid-sort-icon"===c||"oj-datagrid-header"===c?(h=a.axis,g=a.index,a=null==a.level?0:a.level,"column"===h?d=this.vR(g,a,f("#"+this.Lg+"\\:columnHeader"),this.grid.getStartColumnHeader()):"row"===h&&(d=this.vR(g,a,f("#"+this.Lg+"\\:rowHeader"),this.grid.getStartRowHeader())),null==d?null:"oj-datagrid-sort-icon"===
c?d.children("."+this.ef("sortcontainer")).children().get(0):d.get(0)):null},getSubIdByNode:function(a){var c,d,g;c=f(a).closest("."+this.ef("cell"));if(0<c.length)return a=this.j7(c),{subId:"oj-datagrid-cell",rowIndex:a.rowIndex+this.grid.getStartRow(),columnIndex:a.columnIndex+this.grid.getStartColumn()};d=f(a).closest("."+this.ef("headercell"));return 0<d.length?(g=d.hasClass(this.ef("colheadercell"))?"column":"row",c=this.c8(d),d=this.d8(d),a=f(a).hasClass(this.ef("sortascending"))||f(a).hasClass(this.ef("sortdescending"))?
"oj-datagrid-sort-icon":"oj-datagrid-header",{subId:a,index:c,axis:g,level:d}):null},ef:function(a){return this.Fp.UJ(a)},Xq:function(a){return this.Fp.TJ(a)},Lk:function(a){return this.Fp.wB(a)},gaa:function(){return null!=this.root.offsetParent?!0:!1},iv:function(){var a=this.grid.getVisibility();this.gaa()?(a===d.VISIBILITY_STATE_RENDER?this.grid.render(this.root):a===d.VISIBILITY_STATE_REFRESH&&this.grid.refresh(this.root),this.grid.setVisibility(d.VISIBILITY_STATE_VISIBLE)):a===d.VISIBILITY_STATE_VISIBLE&&
this.grid.setVisibility(d.VISIBILITY_STATE_HIDDEN)},vR:function(a,c,d,g){if(0>c)return null;if(d.children().first().children().last().hasClass(this.ef("headercell")))return d.children().first().children("."+this.ef("headercell")).eq(a-g);d=this.uR(a,c,0,d.children().first().children());return null==d?null:c!=parseInt(d.attr(this.Xq("level")),10)?(g=parseInt(d.attr(this.Xq("start")),10),a=a-g+1,d.children().eq(a)):d.children().eq(0)},uR:function(a,d,e,g){var f,k,l;if(null==g.eq(1)||g.eq(1).hasClass(this.ef("headercell")))return d===
e?g.eq(0).parent():null;for(l=g.parent().parent().hasClass(this.ef("colheader"))?0:1;l<g.length;l++)if(f=parseInt(g.eq(l).attr(this.Xq("start")),10),k=parseInt(g.eq(l).attr(this.Xq("extent")),10),a>=f&&a<f+k)return d===e?g.eq(l):this.uR(a,d,e+1,g.eq(l).children());return null},c8:function(a){var d;if(a.parent().hasClass(this.ef("groupingcontainer"))){d=parseInt(a.parent().attr(this.Xq("start")),10);if(a.get(0)===a.parent().children(":first").get(0))return d;d--}else d=a.hasClass(this.ef("rowheadercell"))?
this.grid.getStartRowHeader()-1:this.grid.getStartColumnHeader();return d+=a.index()},d8:function(a){var d;return a.parent().hasClass(this.ef("groupingcontainer"))?(d=parseInt(a.parent().attr(this.Xq("level")),10),a.get(0)===a.parent().children(":first").get(0)?d:d+1):0},Ji:function(){return null==this.options.selectionMode||"multiple"!==this.options.selectionMode.row&&"multiple"!==this.options.selectionMode.cell?!1:!0},WH:function(a){f(a).remove()}});a.wf=function(b,d,e,g,f){a.j.pc(b,null);a.j.pc(d,
null);a.j.pc(e,null);a.j.pc(g,null);this.ci=b;this.xp=d;this.ck=e;this.wp=g;this.aj=f};o_("ArrayCellSet",a.wf,a);a.wf.prototype.getData=function(a){return this.aj.z7(a.row,a.column)};a.b.i("ArrayCellSet.prototype.getData",{getData:a.wf.prototype.getData});a.wf.prototype.getMetadata=function(a){return this.aj.A7(a.row,a.column)};a.b.i("ArrayCellSet.prototype.getMetadata",{getMetadata:a.wf.prototype.getMetadata});a.wf.prototype.ua=function(a){return"row"==a?this.ci:"column"==a?this.ck:-1};a.b.i("ArrayCellSet.prototype.getStart",
{ua:a.wf.prototype.ua});a.wf.prototype.R=function(a){return"row"===a?Math.max(0,this.xp-this.ci):"column"===a?Math.max(0,this.wp-this.ck):0};a.b.i("ArrayCellSet.prototype.getCount",{R:a.wf.prototype.R});a.wf.prototype.getStartRow=function(){return this.ci};a.b.i("ArrayCellSet.prototype.getStartRow",{getStartRow:a.wf.prototype.getStartRow});a.wf.prototype.getStartColumn=function(){return this.ck};a.b.i("ArrayCellSet.prototype.getStartColumn",{getStartColumn:a.wf.prototype.getStartColumn});a.td=function(b,
d,e,g){a.j.pc(b,null);a.j.pc(d,null);this.ec=b;this.Ud=d;this.yZ=e;this.aj=g};o_("ArrayHeaderSet",a.td,a);a.td.prototype.getData=function(b,d){if(null==this.aj)return null;a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return this.aj.wR(this.yZ,b)};a.b.i("ArrayHeaderSet.prototype.getData",{getData:a.td.prototype.getData});a.td.prototype.getMetadata=function(b,d){if(null==this.aj)return null;a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");
a.j.assert(null==d||0==d,"level out of bounds");return this.aj.e8(this.yZ,b)};a.b.i("ArrayHeaderSet.prototype.getMetadata",{getMetadata:a.td.prototype.getMetadata});a.td.prototype.Vf=function(){return 0<this.R()?1:0};a.b.i("ArrayHeaderSet.prototype.getLevelCount",{Vf:a.td.prototype.Vf});a.td.prototype.Rb=function(b,d){a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return{extent:1,more:{before:!1,after:!1}}};a.b.i("ArrayHeaderSet.prototype.getExtent",
{Rb:a.td.prototype.Rb});a.td.prototype.Td=function(b,d){a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return 1};a.b.i("ArrayHeaderSet.prototype.getDepth",{Td:a.td.prototype.Td});a.td.prototype.R=function(){return null==this.aj?0:Math.max(0,this.Ud-this.ec)};a.b.i("ArrayHeaderSet.prototype.getCount",{R:a.td.prototype.R});a.td.prototype.ua=function(){return this.ec};a.b.i("ArrayHeaderSet.prototype.getStart",{ua:a.td.prototype.ua});a.Ah=function(b,
d,e,g,f,k){a.j.pc(b,null);a.j.pc(d,null);a.j.pc(e,null);a.j.pc(g,null);a.j.Yv(k);this.ci=b;this.xp=d;this.ck=e;this.wp=g;this.Ab=f;this.Fd=k};o_("FlattenedTreeCellSet",a.Ah,a);a.Ah.prototype.getData=function(b){var d;d=this.VR(b);if(null==d)return null;b=d[0];d=d[1];a.j.assert(b<this.Ab.ua()+this.Ab.R()&&d<this.Fd.length);d=this.Fd[d];b=this.Ab.getData(b);return null!=b?b.get?b.get(d):b[d]:null};a.b.i("FlattenedTreeCellSet.prototype.getData",{getData:a.Ah.prototype.getData});a.Ah.prototype.getMetadata=
function(b){var d;d=this.VR(b);if(null==d)return null;b=d[0];d=d[1];a.j.assert(b<this.Ab.ua()+this.Ab.R()&&d<this.Fd.length);d=this.Fd[d];b=this.Ab.getMetadata(b);b.keys={row:b.key,column:d};return b};a.b.i("FlattenedTreeCellSet.prototype.getMetadata",{getMetadata:a.Ah.prototype.getMetadata});a.Ah.prototype.VR=function(b){var d;a.j.ie(b);if(null==this.Ab||0==this.Ab.length)return null;d=b.row-this.ci+this.Ab.ua();b=b.column;a.j.pc(d,null);a.j.pc(b,null);a.j.assert(0<=d&&0<=b);return[d,b]};a.Ah.prototype.ua=
function(a){return"row"===a?this.ci:"column"===a?this.ck:0};a.b.i("FlattenedTreeCellSet.prototype.getStart",{ua:a.Ah.prototype.ua});a.Ah.prototype.R=function(a){return"row"===a?Math.min(this.xp-this.ci,this.Ab.R()):"column"===a?this.wp-this.ck:0};a.b.i("FlattenedTreeCellSet.prototype.getCount",{R:a.Ah.prototype.R});a.Za=function(b,d){a.Za.q.constructor.call(this,b,d)};o_("FlattenedTreeDataGridDataSource",a.Za,a);a.b.ga(a.Za,a.ma,"oj.FlattenedTreeDataGridDataSource");a.Za.prototype.Init=function(){a.Za.q.Init.call(this);
this.Fd=a.Za.q.jw.call(this,"columns");this.Zf=a.Za.q.jw.call(this,"rowHeader")};a.b.i("FlattenedTreeDataGridDataSource.prototype.Init",{Init:a.Za.prototype.Init});a.Za.prototype.Sf=function(a){return"row"===a?"estimate":"actual"};a.b.i("FlattenedTreeDataGridDataSource.prototype.getCountPrecision",{Sf:a.Za.prototype.Sf});a.Za.prototype.R=function(a){return"row"===a?-1:"column"===a?this.Fd.length:0};a.b.i("FlattenedTreeDataGridDataSource.prototype.getCount",{R:a.Za.prototype.R});a.Za.prototype.Sd=
function(b,d,e){var g,f;g=b.axis;if("column"===g)g=b.start+b.count,g>this.R("column")&&(g=this.R("column")-b.start),f=new a.Qe(b.start,g,this.Fd);else if("row"===g){if(null!=this.Zf){this.bk={range:b,callbacks:d,callbackObjects:e};return}f=new a.td(b.start,b.start,g,null)}null!=f&&null!=d&&null!=d.success&&(null==e&&(e={}),d.success.call(e.success,f,b))};a.b.i("FlattenedTreeDataGridDataSource.prototype.fetchHeaders",{Sd:a.Za.prototype.Sd});a.Za.prototype.ke=function(b,d,e){var g,f,k,l;for(g=0;g<b.length;g++)if(f=
b[g],"row"==f.axis){k=f.start;l=f.count;break}a.Za.q.op.call(this,{start:k,count:l},{success:function(a){this.DG(a,b,d,e,0)}.bind(this),error:function(a){this.z9(a,{start:k,count:l},d,e)}.bind(this)})};a.b.i("FlattenedTreeDataGridDataSource.prototype.fetchCells",{ke:a.Za.prototype.ke});a.Za.prototype.keys=function(b){var d,e;d=b.row;e=b.column;return new Promise(function(b){d>a.Za.q.Yfa.call(this).end||e>this.Fd.length?b(null):b({row:a.Za.q.getKey.call(this,d),column:this.Fd[e]})}.bind(this))};a.b.i("FlattenedTreeDataGridDataSource.prototype.keys",
{keys:a.Za.prototype.keys});a.Za.prototype.oe=function(b){var d,e,g,f,k;g=b.row;f=b.column;return new Promise(function(b){d=a.Za.q.Yh.call(this,g);for(k=0;k<this.Fd.length;k++)if(this.Fd[k]===f){e=k;break}0<=d||0<=e?b({row:d,column:e}):b(null)}.bind(this))};a.b.i("FlattenedTreeDataGridDataSource.prototype.indexes",{oe:a.Za.prototype.oe});a.Za.prototype.sort=function(b,d,e){return a.Za.q.getWrappedDataSource.call(this).sort(b,{success:function(){this.h$(d,e)}.bind(this),error:d.error})};a.b.i("FlattenedTreeDataGridDataSource.prototype.sort",
{sort:a.Za.prototype.sort});a.Za.prototype.h$=function(a,d){this.refresh();a.success&&(null==d&&(d={}),a.success.call(d.success))};a.Za.prototype.move=function(b,d,e,g){a.Za.q.getWrappedDataSource.call(this).move(b,d,e,g)};a.b.i("FlattenedTreeDataGridDataSource.prototype.move",{move:a.Za.prototype.move});a.Za.prototype.getCapability=function(b){return"default"===a.Za.q.getWrappedDataSource.call(this).getCapability(b)?"column":"none"};a.b.i("FlattenedTreeDataGridDataSource.prototype.getCapability",
{getCapability:a.Za.prototype.getCapability});a.Za.prototype.rw=function(b,d){a.Za.q.rw.call(this,b,d)};a.Za.prototype.DG=function(b,d,e,g){var f,k,l,m,n,q;for(f=0;f<d.length;f++)k=d[f],"row"==k.axis?(l=k.start,m=k.count):"column"==k.axis&&(n=k.start,q=k.count,n+q>this.R("column")&&(q=this.R("column")-n));this.bk&&(f=this.bk.range,f.start==l&&f.count==m&&this.JG(b,f,this.bk.callbacks,this.bk.callbackObjects),this.bk=null);b=new a.Ah(l,l+m,n,n+q,b,this.Fd);e.success&&(null==g&&(g={}),e.success.call(g.success,
b,d))};a.Za.prototype.z9=function(a,d,e,g){var f;this.bk&&(f=this.bk.range,f.start==d.start&&f.count==d.count&&(d=this.bk.callbacks,f=this.bk.callbackObjects,d.error&&(null==f&&(f={}),d.error.call(f.error,a))),this.bk=null);e.error&&(null==g&&(g={}),e.success.call(g.error,a))};a.Za.prototype.JG=function(b,d,e,g){b=new a.Qe(d.start,d.start+d.count,this.Fd,b,this.Zf);e.success&&(null==g&&(g={}),e.success.call(g.success,b,d))};a.Za.prototype.CB=function(b,d,e){var g,f,k,l;g=null;this.Zf&&(g=new a.Qe(b,
b+e.R(),this.Fd,e,this.Zf));d=new a.Ah(b,b+e.R(),0,this.Fd.length,e,this.Fd);k=[];l=[];for(f=0;f<e.R();f++)k.push({row:this.wg(b+f).key}),l.push({row:b+f,column:-1});b={source:this,operation:"insert"};b.result=d;g&&(b.header=g);b.keys=k;b.indexes=l;a.Za.q.handleEvent.call(this,"change",b)};a.Za.prototype.VB=function(b){var d,e,g;d=[];g=[];for(e=0;e<b.length;e++)d.push({row:b[e].key}),g.push({row:b[e].index,column:-1});b={source:this,operation:"delete"};b.keys=d;b.indexes=g;a.Za.q.handleEvent.call(this,
"change",b)};a.Za.prototype.bK=function(b,d){d.success.call(null,new a.Ce(null,b.start))};a.Qe=function(b,d,e,g,f){a.j.pc(b,null);a.j.pc(d,null);a.j.Yv(e);this.ec=b;this.Ud=d;this.JB=e;this.Ab=g;this.Zf=f};o_("FlattenedTreeHeaderSet",a.Qe,a);a.Qe.prototype.getData=function(b,d){var e;a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return null!=this.Zf&&null!=this.Ab?(e=this.Ab.getData(b),null!=e?e.get?e.get(this.Zf):e[this.Zf]:null):this.JB[b]};
a.b.i("FlattenedTreeHeaderSet.prototype.getData",{getData:a.Qe.prototype.getData});a.Qe.prototype.getMetadata=function(b,d){a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return null!=this.Zf&&null!=this.Ab?this.Ab.getMetadata(b):{key:this.getData(b)}};a.b.i("FlattenedTreeHeaderSet.prototype.getMetadata",{getMetadata:a.Qe.prototype.getMetadata});a.Qe.prototype.R=function(){return null!=this.Zf&&null!=this.Ab?Math.min(this.Ab.R(),this.Ud-this.ec):
Math.max(0,this.Ud-this.ec)};a.b.i("FlattenedTreeHeaderSet.prototype.getCount",{R:a.Qe.prototype.R});a.Qe.prototype.Vf=function(){return 0<this.R()?1:0};a.b.i("FlattenedTreeHeaderSet.prototype.getLevelCount",{Vf:a.Qe.prototype.Vf});a.Qe.prototype.Rb=function(b,d){a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return{extent:1,more:{before:!1,after:!1}}};a.b.i("FlattenedTreeHeaderSet.prototype.getExtent",{Rb:a.Qe.prototype.Rb});a.Qe.prototype.Td=
function(b,d){a.j.assert(b<=this.Ud&&b>=this.ec,"index out of bounds");a.j.assert(null==d||0==d,"level out of bounds");return 1};a.b.i("FlattenedTreeHeaderSet.prototype.getDepth",{Td:a.Qe.prototype.Td});a.Fh=function(a,d){this.GB=a;this.Bp=d};o_("PagingCellSet",a.Fh,a);a.Fh.prototype.getData=function(a){return this.GB.getData({column:a.column,row:a.row+this.Bp})};a.b.i("PagingCellSet.prototype.getData",{getData:a.Fh.prototype.getData});a.Fh.prototype.getMetadata=function(a){return this.GB.getMetadata({column:a.column,
row:a.row+this.Bp})};a.b.i("PagingCellSet.prototype.getMetadata",{getMetadata:a.Fh.prototype.getMetadata});a.Fh.prototype.R=function(a){return this.GB.R(a)};a.b.i("PagingCellSet.prototype.getCount",{R:a.Fh.prototype.R});a.Fh.prototype.lY=function(){return this.GB};a.b.i("PagingCellSet.prototype.getCellSet",{lY:a.Fh.prototype.lY});a.Fh.prototype.mw=function(){return this.Bp};a.b.i("PagingCellSet.prototype.getStartIndex",{mw:a.Fh.prototype.mw});a.Ta=function(b){if(!(b instanceof a.fc))throw new a.Y("Not a datagridatasource",
"Not a datagridatasource",a.Y.Ob.ERROR);this.Ec=b;this.aa=0;this.Init()};o_("PagingDataGridDataSource",a.Ta,a);a.b.ga(a.Ta,a.fc,"oj.PagingDataGridDataSource");a.Ta.prototype.Init=function(){a.Ta.q.Init.call(this);this.VH()};a.b.i("PagingDataGridDataSource.prototype.Init",{Init:a.Ta.prototype.Init});a.Ta.prototype.VH=function(){this.Ec.on("change",this.b9.bind(this))};a.Ta.prototype.getPage=function(){return this.Jc};a.b.i("PagingDataGridDataSource.prototype.getPage",{getPage:a.Ta.prototype.getPage});
a.Ta.prototype.setPage=function(b,d){d=d||{};b=parseInt(b,10);try{a.Ta.q.handleEvent.call(this,a.gc.F.BEFOREPAGE,{page:b,previousPage:this.Jc})}catch(e){return Promise.reject(null)}this.Ra=null!=d.pageSize?d.pageSize:this.Ra;d.startIndex=b*this.Ra;var g=this.Jc;this.Jc=b;this.aa=d.startIndex;var f=this;return new Promise(function(a,b){f.ee(d).then(function(){a(null)},function(){f.Jc=g;f.aa=f.Jc*f.Ra;b(null)})})};a.b.i("PagingDataGridDataSource.prototype.setPage",{setPage:a.Ta.prototype.setPage});
a.Ta.prototype.ee=function(a){this.Sk=!0;this.aa=a.startIndex;var d=this;return new Promise(function(a){d.handleEvent("change",{operation:"sync",pageSize:d.Ra});a(void 0)})};a.Ta.prototype.fetch=function(a){this.Ra=a.pageSize+a.startIndex;a.startIndex=0;return this.ee(a)};a.b.i("PagingDataGridDataSource.prototype.fetch",{fetch:a.Ta.prototype.fetch});a.Ta.prototype.getStartItemIndex=function(){return this.aa};a.b.i("PagingDataGridDataSource.prototype.getStartItemIndex",{getStartItemIndex:a.Ta.prototype.getStartItemIndex});
a.Ta.prototype.getEndItemIndex=function(){return this.Ei};a.b.i("PagingDataGridDataSource.prototype.getEndItemIndex",{getEndItemIndex:a.Ta.prototype.getEndItemIndex});a.Ta.prototype.getPageCount=function(){var a=this.totalSize();return-1==a?-1:Math.ceil(a/this.Ra)};a.b.i("PagingDataGridDataSource.prototype.getPageCount",{getPageCount:a.Ta.prototype.getPageCount});a.Ta.prototype.b9=function(b){switch(b.operation){case "refresh":this.aa=0;this.handleEvent("change",{operation:"sync",pageSize:this.Ra});
this.handleEvent(a.qa.F.REFRESH,null);break;case "reset":this.handleEvent(a.qa.F.RESET,null);break;case "insert":this.handleEvent(a.qa.F.ADD,{index:b.indexes.row});break;case "delete":this.handleEvent(a.qa.F.REMOVE,null);break;case "update":b.indexes.row=0<=b.indexes.row-this.aa?b.indexes.row-this.aa:-1;this.handleEvent("change",b);break;default:this.handleEvent("change",b),this.handleEvent(a.qa.F.SYNC,null)}};a.Ta.prototype.R=function(a){return this.Ec.R(a)};a.b.i("PagingDataGridDataSource.prototype.getCount",
{R:a.Ta.prototype.R});a.Ta.prototype.Sf=function(a){return this.Ec.Sf(a)};a.b.i("PagingDataGridDataSource.prototype.getCountPrecision",{Sf:a.Ta.prototype.Sf});a.Ta.prototype.Sd=function(b,d,e){var g;null==this.Sk?(g=new a.td(0,0,b.axis,null),null!=d&&d.success&&d.success.call(e.success,g,b)):"row"===b.axis?(b.start+=this.aa,b.start+b.count>this.aa+this.Ra&&(b.count=this.Ra-b.start),this.zr={callbacks:d,callbackObjects:e},this.Ec.Sd(b,{success:this.JG.bind(this),error:this.c$.bind(this)},e)):this.Ec.Sd(b,
d,e)};a.b.i("PagingDataGridDataSource.prototype.fetchHeaders",{Sd:a.Ta.prototype.Sd});a.Ta.prototype.JG=function(b,d){d.start-=this.aa;this.zr.callbacks.success.call(this.zr.callbackObjects.success,new a.Zd(b,this.aa),d);this.zr=null};a.Ta.prototype.c$=function(a){this.zr.callbacks.error.call(this.zr.callbackObjects.error,a);this.zr=null};a.Ta.prototype.ke=function(b,d,e){var g;if(null==this.Sk)g=new a.wf(0,0,0,0,null),null!=d&&d.success&&d.success.call(e.success,g,b);else{for(g=0;g<b.length;g+=1)"row"===
b[g].axis&&(b[g].start+=this.aa,b[g].start+b[g].count>this.aa+this.Ra&&(b[g].count=this.Ra-b[g].start));this.yr={callbacks:d,callbackObjects:e};this.Ec.ke(b,{success:this.a9.bind(this),error:this.Z8.bind(this)},e)}};a.b.i("PagingDataGridDataSource.prototype.fetchCells",{ke:a.Ta.prototype.ke});a.Ta.prototype.a9=function(b,d){var e;for(e=0;e<d.length;e+=1)"row"===d[e].axis&&(d[e].start-=this.aa);this.yr.callbacks.success.call(this.yr.callbackObjects.success,new a.Fh(b,this.aa),d);this.yr=null;this.Ei=
this.aa+b.R("row")-1;this.handleEvent("sync",{data:Array(b.R("row")),startIndex:this.aa})};a.Ta.prototype.Z8=function(a){this.yr.callbacks.error.call(this.yr.callbackObjects.error,a);this.yr=null};a.Ta.prototype.keys=function(a){return this.Ec.keys({column:a.column,row:a.row+this.aa})};a.b.i("PagingDataGridDataSource.prototype.keys",{keys:a.Ta.prototype.keys});a.Ta.prototype.oe=function(a){a=this.Ec.oe(a);-1!=a.row&&(a.row-=this.aa);return a};a.b.i("PagingDataGridDataSource.prototype.indexes",{oe:a.Ta.prototype.oe});
a.Ta.prototype.getCapability=function(a){return this.Ec.getCapability(a)};a.b.i("PagingDataGridDataSource.prototype.getCapability",{getCapability:a.Ta.prototype.getCapability});a.Ta.prototype.size=function(){var a;if(null==this.Sk)return-1;a=this.Ec.R("row");return this.Ec.R("row")>this.Ra?this.Ra:a};a.b.i("PagingDataGridDataSource.prototype.size",{size:a.Ta.prototype.size});a.Ta.prototype.sort=function(a,d,e){this.Ec.sort(a,d,e)};a.b.i("PagingDataGridDataSource.prototype.sort",{sort:a.Ta.prototype.sort});
a.Ta.prototype.totalSize=function(){return null==this.Sk?-1:this.Ec.R("row")};a.b.i("PagingDataGridDataSource.prototype.totalSize",{totalSize:a.Ta.prototype.totalSize});a.Ta.prototype.move=function(a,d,e,g,f){this.Ec.move(a,d,e,g,f)};a.b.i("PagingDataGridDataSource.prototype.move",{move:a.Ta.prototype.move});a.Zd=function(a,d){this.yp=a;this.Bp=d};o_("PagingHeaderSet",a.Zd,a);a.Zd.prototype.getData=function(a,d){return this.yp.getData(a+this.Bp,d)};a.b.i("PagingHeaderSet.prototype.getData",{getData:a.Zd.prototype.getData});
a.Zd.prototype.getMetadata=function(a,d){return this.yp.getMetadata(a+this.Bp,d)};a.b.i("PagingHeaderSet.prototype.getMetadata",{getMetadata:a.Zd.prototype.getMetadata});a.Zd.prototype.R=function(){return this.yp.R()};a.b.i("PagingHeaderSet.prototype.getCount",{R:a.Zd.prototype.R});a.Zd.prototype.Vf=function(){return this.yp.Vf()};a.b.i("PagingHeaderSet.prototype.getLevelCount",{Vf:a.Zd.prototype.Vf});a.Zd.prototype.Rb=function(a,d){return this.yp.Rb(a,d)};a.b.i("PagingHeaderSet.prototype.getExtent",
{Rb:a.Zd.prototype.Rb});a.Zd.prototype.Td=function(a,d){return this.yp.Td(a,d)};a.b.i("PagingHeaderSet.prototype.getDepth",{Td:a.Zd.prototype.Td});a.Zd.prototype.zY=function(){return this.yp};a.b.i("PagingHeaderSet.prototype.getHeaderSet",{zY:a.Zd.prototype.zY});a.Zd.prototype.mw=function(){return this.Bp};a.b.i("PagingHeaderSet.prototype.getStartIndex",{mw:a.Zd.prototype.mw})});