/**
 * Copyright (c) 2014, 2015, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
define(["ojs/ojcore","jquery","jqueryui-amd/core","jqueryui-amd/widget","ojs/ojmessaging"],function(a,f){function d(a,b){function c(){var a=f(this),d=a.data(k);if(null!=d)for(var e=0;e<d.length;e++){var g=a.data("oj-"+d[e]);null!=g&&b(g)}}var d=f(a);d.hasClass(l)&&c.call(a);d.find("."+l).each(c)}function b(a){this.LJ=function(){return a}}function c(a,b,c,d,g,h,f){var n=c,m=!1,k={};delete d[g];Object.defineProperty(d,g,{get:function(){if(m||null!=a.Jr)return n;var c=h(f?f():g);return e([b,c,n],k)},
set:function(b){n=b;null!=a.Jr?k[a.Jr]=!0:m=!0},enumerable:!0})}function e(a,b){for(var c=void 0,d=0;d<a.length;d++){var e=a[d];void 0!==e&&(c=f.isPlainObject(e)?g(f.isPlainObject(c)?[c,e]:[e],d==a.length-1?null:b,null):e)}return c}function g(a,b,c){for(var d={},e=a.length,h=0;h<e;h++)for(var n=a[h],m=Object.keys(n),k=0;k<m.length;k++){var l=m[k],q=null==b?null:null==c?l:c+"."+l;if(null==b||!b[q]){var E=n[l];void 0!==E&&(d[l]=f.isPlainObject(E)?g(f.isPlainObject(d[l])?[d[l],E]:[E],b,q):E)}}return d}
function h(){return!0}a.Components={};o_("Components",a.Components,a);a.Components.WB=function(b){a.Components.$P=f.widget.extend(a.Components.$P||{},b)};o_("Components.setDefaultOptions",a.Components.WB,a);a.Components.rY=function(){return a.Components.$P||{}};o_("Components.getDefaultOptions",a.Components.rY,a);a.Components.hs=function(a){return new b(a)};o_("Components.createDynamicPropertyGetter",a.Components.hs,a);a.Components.Gg=function(a,b){var c=f(a);if(null==b){var d=c.data(k);d&&(b=d[0])}return null!=
b&&(d=c[b],"function"===typeof d)?d.bind(c):null};o_("Components.getWidgetConstructor",a.Components.Gg,a);a.Components.vf=function(b){a.C.bY(b);d(b,function(a){a.Zl()})};o_("Components.subtreeAttached",a.Components.vf,a);a.Components.bg=function(a){d(a,function(a){a.yi()})};o_("Components.subtreeDetached",a.Components.bg,a);a.Components.Il=function(b){a.C.bY(b);d(b,function(a){a.vk()})};o_("Components.subtreeShown",a.Components.Il,a);a.Components.En=function(a){d(a,function(a){a.$l()})};o_("Components.subtreeHidden",
a.Components.En,a);a.Components.jK=function(a){var b=a.data(k);return f.isArray(b)&&-1<b.indexOf("ojPopup")&&a.is("."+l)?!0:!1};a.Components.Cx="data-oj-container";var k="oj-component-names",l="oj-component-initnode";f.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this.mv=null},_createWidget:function(a,b){this.sU=this.options||{};this.yP=a||{};this._super(a,b);this.uM()},zD:function(){var a=this.options.rootAttributes;
if(a){var b=this.widget();if(null!=b){var c=a["class"];c&&b.addClass(c);if(c=a.style){var d=b.attr("style");d?b.attr("style",d+";"+c):b.attr("style",c)}a=f.extend({},a);delete a["class"];delete a.style;b.attr(a);delete a.id;a=Object.keys(a);if(a.length)throw Error("Unsupported values passed to rootAttributes option: "+a.toString());}}},_create:function(){this.xt(this.element);this.ae(this.sU,this.yP);delete this.sU;delete this.yP;this._ComponentCreate();this.Ug();this.element.addClass(l)},ae:function(a,
b){this.Hda(a,b);this.B$(b)},_ComponentCreate:function(){this.activeable=f();var a=this.element,b=this.widgetName,c=a.data(k);c||(c=[],a.data(k,c));0>c.indexOf(b)&&c.push(b)},Ug:function(){this.zD();this.Ui=this.eventNamespace+"contextMenu";this.fW(!0)},uM:f.noop,xt:function(){},r3:function(a){var b=this;this.gI=[];f.each(a,function(a,c){var d={},e=c.attributes;b.gI.push({element:c,attributes:d});f.each(e,function(a,b){var e=b.name;d[e]={attr:b.value,prop:f(c).prop(e)}})})},XM:function(a){var b=this.gI;
if(void 0===b)return null;a=a[0];for(var c=0,d=b.length;c<d;c++){var e=b[c];if(e.element===a)return e.attributes}return{}},nq:function(){},Z2:function(){f.each(this.gI,function(a,b){var c=f(b.element),d=b.attributes;if(1===c.length){for(var e=b.element.attributes,g=[],h=0,n=e.length;h<n;h++)e[h].name in d||g.push(e[h].name);h=0;for(n=g.length;h<n;h++)c.removeAttr(g[h]);for(var m in d)c.attr(m,d[m].attr)}})},tx:function(){return this.widgetFullName},ht:function(a,b,c){return b==c},D:function(b,c){var d=
{},e;2<arguments.length?d=Array.prototype.slice.call(arguments,1):2==arguments.length&&(d=arguments[1],"object"===typeof d||d instanceof Array||(d=[d]));e=this.option(n+b);return null==e?b:a.ha.Kb(e.toString(),d)},getNodeBySubId:function(a){return null==a||null==a.subId?this.element?this.element[0]:null:null},getSubIdByNode:function(){return null},destroy:function(){this._trigger("destroy");this._super();this.bV();this.element.removeClass(l);this.widget().removeClass("oj-disabled");this.hoverable.removeClass("oj-hover");
this.focusable.removeClass("oj-focus");this.activeable.removeClass("oj-active");var a=this.element,b=this.widgetName,c=a.data(k);c&&(b=c.indexOf(b),0<=b&&(c.splice(b,1),0===c.length&&a.removeData(k)));this.nq();this.gT?this.element.attr("contextmenu",this.gT):this.element.removeAttr("contextmenu")},option:function(a,b){if(0===arguments.length)return f.widget.extend({},this.options);var c=arguments[0],d=c,e=null,g={};if("string"===typeof c){var d={},h=c.split("."),c=h.shift();if(h.length){var e=h.join("."),
n;try{1<arguments.length&&(this.Jr=e),n=d[c]=f.widget.extend({},this.options[c])}finally{this.Jr=null}for(c=0;c<h.length-1;c++)n[h[c]]=n[h[c]]||{},n=n[h[c]];c=h.pop();if(1===arguments.length)return void 0===n[c]?null:n[c];n[c]=b}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];d[c]=b}g=arguments[2]||g}else g=arguments[1]||g;null!=e&&(g=f.widget.extend({},g,{subkey:e}));(e=g?g._context:null)&&e.mb?this.Y$(d,g):this._setOptions(d,g);return this},Y$:function(a,b){for(var c in a){var d=
a[c],e=this.options[c];this.options[c]=d;this.qU(c,d,e,b)}},_setOptions:function(a,b){for(var c in a)this._setOption(c,a[c],b);return this},_setOption:function(a,b,c){var d=this.options[a];if("disabled"===a)this.options[a]=b,this.widget().toggleClass("oj-disabled",!!b).attr("aria-disabled",b),b&&(this.hoverable.removeClass("oj-hover"),this.focusable.removeClass("oj-focus"),this.activeable||(this.activeable=f()),this.activeable.removeClass("oj-active"));else{try{var e=null==c?null:c.subkey;null!=e&&
(this.Jr=e);this._super(a,b)}finally{this.Jr=null}"contextMenu"===a&&this.fW(!1)}this.qU(a,b,d,c);return this},qU:function(a,b,c,d){var e=!1,g=null,h=!1,f=null,n=null;d&&(e=d.changed,g=d._context)&&(f=g.originalEvent,h=void 0===g.ed?null!=f:g.ed,n=g.Vga);if(e||!this.ht(a,c,b))n=n||{},n.writeback=h?"shouldWrite":"shouldNotWrite",this._trigger("optionChange",f,{option:a,previousValue:c,value:b,optionMetadata:n})},_trigger:function(a,b,c){var d=this.options[a];c=c||{};b=f.Event(b,q);b.type=(this.widgetEventPrefix+
a).toLowerCase();b.target=this.element[0];this.element.trigger(b,c);return!(f.isFunction(d)&&!1===d.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented())},B$:function(a){var b=this.element.attr("contextmenu");this.gT=b;!b||"contextMenu"in a||this.option("contextMenu","#"+b,{_context:{mb:!0}})},fW:function(a){this.bV();if(this.options.contextMenu){var b=this.widget(),c=this.element;a&&!c.is(b)&&c.removeAttr("contextmenu");(a=f(this.options.contextMenu).attr("id"))&&b.attr("contextmenu",a);
var d=this;this.yU=function(a){121==a.which&&a.shiftKey&&d.iR().is(":visible")&&a.preventDefault()};var e=!1,g=!1,h,n=null,m=function(a,c,g){e=g;var f=d.IF();if(e)b.one("touchend"+d.Ui,function(){f.vq(!0);setTimeout(function(){f.vq(!1)},50)});"touchstart"===n&&"contextmenu"===a.type||"contextmenu"===n&&"touchstart"===a.type?(n=null,clearTimeout(h)):a.isDefaultPrevented()||a.originalEvent&&a.originalEvent.defaultPrevented||d.Id()||(d.Xe(f,a,c),!d.iR().is(":visible")||(a.preventDefault(),document.addEventListener("keyup",
d.yU),"touchstart"!==a.type&&"contextmenu"!==a.type))||(n=a.type,h=setTimeout(function(){n=null},300))};this.pP=function(a){e&&(a.preventDefault(),a.stopPropagation(),e=!1)};b[0].addEventListener("click",this.pP,!0);b.on("touchstart"+this.Ui+" mousedown"+this.Ui+" keydown"+this.Ui+" ",function(a){if("mousedown"!==a.type||!d.IF().vq())return e=!1,"touchstart"===a.type&&(g=!0,this.AP=setTimeout(m.bind(void 0,a,"touch",!0),750)),!0}).on("touchend"+this.Ui+" touchcancel"+this.Ui,function(){g=!1;clearTimeout(this.AP);
return!0}).on("keydown"+this.Ui+" contextmenu"+this.Ui,function(a){("contextmenu"===a.type||121==a.which&&a.shiftKey)&&m(a,g?"touch":"keydown"===a.type?"keyboard":"mouse",!1);return!0}).addClass("oj-menu-context-menu-launcher")}},PV:function(){this.po=f(this.options.contextMenu).first();this.sy=this.po.data("oj-ojMenu");if(!this.sy)throw Error('"contextMenu" option set to "'+this.options.contextMenu+'", which does not reference a valid JET Menu.');var a=this;this.po.on("oj__dismiss"+this.Ui,function(){document.removeEventListener("keyup",
a.yU)})},IF:function(){this.sy||this.PV();return this.sy},iR:function(){this.po||this.PV();return this.po},bV:function(){this.widget().removeAttr("contextmenu").off(this.Ui).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",this.pP,!0);this.po&&this.po.off(this.Ui);clearTimeout(this.AP);this.po=this.sy=void 0},Xe:function(a,b,c){this.Ye(b,c)},Ye:function(a,b,c,d,e){b={launcher:this.element,position:{mouse:{my:"start top",at:"start bottom",of:a},touch:{my:"start\x3e40 center",
at:"start bottom",of:a,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[b]};var g={initialFocus:"menu"};c=e?f.extend(b,c,g):f.extend(!0,b,c,g);e=this.IF();e.Vx=!0;e.open(a,c,d);e.Vx=!1},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){f(a.currentTarget).hasClass("oj-disabled")||f(a.currentTarget).addClass("oj-hover")},mouseleave:function(a){f(a.currentTarget).removeClass("oj-hover")}})},_focusable:function(a){this.focusable=
this.focusable.add(a);this._on(a,{focusin:function(a){f(a.currentTarget).addClass("oj-focus")},focusout:function(a){f(a.currentTarget).removeClass("oj-focus")}})},Et:function(a){this.activeable=this.activeable.add(a);this._on(a,{mousedown:function(a){f(a.currentTarget).addClass("oj-active")},mouseup:function(a){f(a.currentTarget).removeClass("oj-active")}})},uq:function(a){a&&(f(a).off(this.eventNamespace),this.xX&&(this.xX=f(this.xX.not(a))),this.activeable=f(this.activeable.not(a)),this.focusable=
f(this.focusable.not(a)),this.hoverable=f(this.hoverable.not(a)))},XJ:function(a){return this.option(n+a)},hc:function(){return a.C.rs()},Zl:function(){this.mv=null},yi:function(){this.mv=null},vk:function(){},$l:function(){},Id:function(){return this.options.disabled||this.xO?!0:!1},Ct:function(a){this.xO=a},R8:function(){var b=[],c=this,d=0;this.YW(function(e){e=0==d?c.tx():e.widgetFullName;d++;var g=a.ha.tB(e);null==g||f.isEmptyObject(g)||b.push(e)});var e=b.length;return 0<e?function(){if(1==
e)return a.ha.tB(b[0]);for(var c={},d=e-1;0<=d;d--)f.widget.extend(c,a.ha.tB(b[d]));return c}:null},O7:function(){if(!this.mv){var b={};this.mv=b;for(var c=this.element[0],d=[];c;){var e=c.getAttribute,e=e?e.call(c,a.Components.Cx):null;null!=e&&d.push(e);c=c.parentNode}b.containers=d}return this.mv},Hda:function(a,b){var d=this.options,e=this.R8(),g=b[m];null==e||void 0!==g&&!f.isPlainObject(g)||c(this,void 0,b[m],d,m,e);this.Haa(a,b)},Haa:function(d,g){var h=this.options,n={},m=[];this.YW(function(a){m.push(a.widgetName)});
var k=a.Components.rY();m.push("default");for(var l=m.length-1;0<=l;l--){var q=k[m[l]];void 0!==q&&(n=f.widget.extend(n,q))}if(!f.isEmptyObject(n)){var z=this,k=function(){return z.O7()},B;for(B in n)if(l=g[B],void 0===l||f.isPlainObject(l))q=n[B],null!=q&&q instanceof b?(q=q.LJ(),f.isFunction(q)?c(this,d[B],l,h,B,q,k):a.u.error("Dynamic getter for property %s is not a function",B)):h[B]=e([d[B],q,l])}},YW:function(a){for(var b=this.constructor.prototype;null!=b&&"oj"===b.namespace;)a(b),b=Object.getPrototypeOf(b)}});
delete f.fn.baseComponent;a.Da=function(a,b,c,d){f.widget(a,b,c);d&&delete f.fn[a.split(".")[1]];if("oj.oj"===a.substring(0,5)||"oj._oj"===a.substring(0,6)){b=a.split(".");a=b[0];b=b[1];var e=a+"-"+b;f.expr[":"][("_"===b.substring(0,1)?"_"+a+"-"+b.substring(3):a+"-"+b.substring(2)).toLowerCase()]=function(a){return!!f.data(a,e)}}};var m="translations",n=m+".",q={preventDefault:function(){this.isDefaultPrevented=h},stopPropagation:function(){this.isPropagationStopped=h},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
h}};a.Sa=function(a){this.Init(a)};a.b.ga(a.Sa,a.b,"oj.ComponentMessaging");a.Sa.Wc={NONE:"none",cx:"notewindow",Us:"placeholder",Qs:"inline"};a.Sa.eD={};a.Sa.UB=function(b,c){b&&"function"===typeof c&&(a.Sa.eD[b]=c)};a.Sa.prototype.Init=function(b){a.Sa.q.Init.call(this);this.oa=b;this.Dt=!1;this.U$()};a.Sa.prototype.$m=function(b,c){var d=this;a.j.ie(c);this.jc=b;this.Uz=a.Ac.Qf(this.Uz||{},c);this.Dt?this.aca():(f.each(this.dp,function(a,b){b.$m(d)}),this.Dt=!0)};a.Sa.prototype.update=function(b){a.j.ie(b);
a.j.uX(this.Dt);this.Uz=a.Ac.Qf(this.Uz||{},b);this.Dt&&f.each(this.dp,function(a,c){c.eL(b)&&c.update()})};a.Sa.prototype.Vj=function(){f.each(this.dp,function(a,b){b.Vj()});this.Dt=!1;this.jc=this.oa=null;this.dp={}};a.Sa.prototype.Vt=function(b,c){return new (a.Sa.eD[b]||a.Sa.eD[a.Sa.Wc.NONE])(c)};a.Sa.prototype.H7=function(){return this.oa||null};a.Sa.prototype.l8=function(){return this.jc||null};a.Sa.prototype.Mh=function(){return this.Uz||{}};a.Sa.prototype.XR=function(){var b={},c=!1,d,e,g=
this.oa.options.placeholder,h,n,m,k,l=this.oa.options.displayOptions||{},q={};n=Object.keys(l);for(m=0;m<n.length;m++){e=n[m];d=l[e];c=!1;h=e+"";if(Array.isArray(d))for(k=0;k<d.length;k++)e=d[k],c||(c=this.wV(h,e,g,q));else"string"===typeof d&&(c||(c=this.wV(h,d,g,q)));c||(q[h]=a.Sa.Wc.NONE)}f.each(a.Sa.Wc,function(a,c){b[c]=[]});f.each(q,function(a,c){b[c].push(a)});return b};a.Sa.prototype.wV=function(b,c,d,e){var g=!1;switch(c){case a.Sa.Wc.Us:"converterHint"!==b||g||d||(e[b]=c,g=!0);break;case a.Sa.Wc.Qs:"messages"!==
b||g||(e[b]=c,g=!0);break;default:g||(e[b]=c,g=!0)}return g};a.Sa.prototype.U$=function(){var b=this.XR(),c=b[a.Sa.Wc.cx],d=b[a.Sa.Wc.NONE],e=b[a.Sa.Wc.Us],b=b[a.Sa.Wc.Qs],g={};0<c.length&&(g[a.Sa.Wc.cx]=this.Vt(a.Sa.Wc.cx,c));0<e.length&&(g[a.Sa.Wc.Us]=this.Vt(a.Sa.Wc.Us,e));0<b.length&&(g[a.Sa.Wc.Qs]=this.Vt(a.Sa.Wc.Qs,b));g[a.Sa.Wc.NONE]=this.Vt(a.Sa.Wc.NONE,d);this.dp=g};a.Sa.prototype.aca=function(){var b=this.XR(),c,d=this;f.each(b,function(b,e){b+="";c=d.dp[b];e&&0<e.length?c?c&&c.Dp(e):(c=
d.Vt(b,e),d.dp[b]=c,c.$m(d)):c&&a.Sa.Wc.NONE!==b&&(c.Vj(),delete d.dp[b])})};a.mc=function(a){this.Init(a)};a.b.ga(a.mc,a.b,"oj.MessagingStrategy");a.mc.prototype.Init=function(b){a.j.fB(b);a.mc.q.Init.call(this);this.Fy=b};a.mc.prototype.$m=function(a){this.oo=a};a.mc.prototype.Vj=function(){};a.mc.prototype.Dp=function(a){this.Init(a)};a.mc.prototype.eL=function(){return!0};a.mc.prototype.update=function(){};a.mc.prototype.Bh=function(){return this.oo.l8()};a.mc.prototype.ki=function(){return this.oo.H7()};
a.mc.prototype.wC=function(){return this.yC().$u};a.mc.prototype.vC=function(){return this.yC().ps()};a.mc.prototype.KL=function(){var a=[],b=this.Mh();(b=b&&b.JX)&&a.push(b);return a};a.mc.prototype.D0=function(){var a=[],b=this.Mh();f.each(b&&b.Sha||[],function(b,c){a.push(c)});return a};a.mc.prototype.C0=function(){var a=this.Mh();return a&&a.title||""};a.mc.prototype.yC=function(){var a=this.Mh();return a&&a.d0||null};a.mc.prototype.DC=function(){var a=this.wC();return a&&0<a.length?!0:!1};a.mc.prototype.iM=
function(){return-1!==this.Fy.indexOf("messages")?!0:!1};a.mc.prototype.OC=function(){return-1!==this.Fy.indexOf("converterHint")?!0:!1};a.mc.prototype.kM=function(){return-1!==this.Fy.indexOf("validatorHint")?!0:!1};a.mc.prototype.jM=function(){return-1!==this.Fy.indexOf("title")?!0:!1};a.mc.prototype.F0=function(){return this.yC().oK()};a.mc.prototype.Mh=function(){return this.oo?this.oo.Mh():{}};a.Pe=function(a){this.Init(a)};a.Sa.UB(a.Sa.Wc.NONE,a.Pe);a.Pe.Lx="oj-invalid";a.Pe.Mx="oj-warning";
a.b.ga(a.Pe,a.mc,"oj.DefaultMessagingStrategy");a.Pe.prototype.update=function(){a.Pe.q.update.call(this);var b=this.Bh(),c=this.vC(),d=[],e=[],g=!1,h=this.ki().widget();b&&(this.F0()?(d.push(a.Pe.Mx),e.push(a.Pe.Lx),g=!0):this.DC()&&c===a.Y.Ob.WARNING?(d.push(a.Pe.Lx),e.push(a.Pe.Mx)):(d.push(a.Pe.Lx),d.push(a.Pe.Mx)),h.removeClass(d.join(" ")).addClass(e.join(" ")),b.attr({"aria-invalid":g}))};a.Pe.prototype.Vj=function(){this.ki().widget().removeClass(a.Pe.Lx).removeClass(a.Pe.Mx);this.Bh().removeAttr("aria-invalid");
a.Pe.q.Vj.call(this)};a.Rg=function(a){this.Init(a)};a.Sa.UB(a.Sa.Wc.Us,a.Rg);a.b.ga(a.Rg,a.mc,"oj.PlaceholderMessagingStrategy");a.Rg.prototype.Init=function(b){a.Rg.q.Init.call(this,b)};a.Rg.prototype.$m=function(b){a.Rg.q.$m.call(this,b);this.TH()};a.Rg.prototype.Dp=function(b){a.Rg.q.Dp.call(this,b);this.TH()};a.Rg.prototype.eL=function(a){return a&&void 0!==a.JX?!0:!1};a.Rg.prototype.update=function(){a.Rg.q.update.call(this);this.TH()};a.Rg.prototype.TH=function(){var a=this.Bh();this.$0()&&
a&&(a=this.KL(),a=a.length?a[0]:"",this.ki().option({placeholder:a},{_context:{Fga:!0}}))};a.Rg.prototype.$0=function(){return this.OC()};a.hi=function(a,b){this.Init(a,b)};a.hi.oK=function(b){return a.Y.ps(b)>=a.Y.Ob.ERROR?!0:!1};a.b.ga(a.hi,a.b,"oj.ComponentValidity");a.hi.prototype.Init=function(b,c){a.hi.q.Init.call(this);this.hT(c)};a.hi.prototype.oK=function(){return this.Bm};a.hi.prototype.ps=function(){return this.Raa};a.hi.prototype.update=function(a,b){this.hT(b)};a.hi.prototype.hT=function(b){this.n5=
b;this.$u=this.g8();this.Raa=a.Y.ps(this.$u);this.Bm=a.hi.oK(this.$u)};a.hi.prototype.g8=function(){for(var b=this.n5||[],c=[],d,e=0;e<b.length;e++)d=b[e],d instanceof a.Bc&&!d.BX()||c.push(d);return c};a.C={};a.C.O1="\x3chtml\x3e";a.C.N1="\x3c/html\x3e";a.C.l2={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1};a.C.k2={"class":1,style:1};a.C.Gga=function(b){return 0===b.indexOf(a.C.O1)&&b.lastIndexOf(a.C.N1)===b.length-7?!0:!1};a.C.lfa=function(b){var c=f(document.createElement("span")).get(0);
(c.innerHTML=b)&&0<=b.indexOf("\x3c")&&a.C.gP(c);return c};a.C.gP=function(b){for(var c=b.childNodes,d,e,g,h,n,m=c.length-1;0<=m;){if((d=c.item(m))&&1===d.nodeType)if(a.C.l2[d.nodeName]){e=d.attributes;for(n=e.length-1;0<=n;n--)g=e[n],(h=void 0!==f(d).attr(g.name))&&(a.C.k2[g.name]||d.removeAttribute(g.nodeName));a.C.gP(d)}else d&&b.removeChild(d);m--}};a.C.$j=function(b,c){a.j.Cg(b);a.j.Cg(c);for(var d=c.parentNode;d;){if(d==b)return!0;d=d.parentNode}return!1};a.C.nn=function(b,c){a.j.Cg(b);a.j.Cg(c);
return c==b?!0:a.C.$j(b,c)};a.C.jh=function(b,c,d){var e=f(b),g=e.data(a.C.vt);null==g&&(g=new a.C.Y2(b),e.data(a.C.vt,g),g.start());g.addListener(c,d)};a.C.gj=function(b,c){var d=f(b),e=d.data(a.C.vt);null!=e&&(e.removeListener(c),e.Ig()&&(e.stop(),d.removeData(a.C.vt)))};a.C.bY=function(b){f(b).find(".oj-helper-detect-expansion").parent().each(function(b,c){var d=f(c).data(a.C.vt);null!=d&&d.ul(!0)})};a.C.ys=function(b){var c=a.Qa.fw();return a.Qa.ni.VL===c.ija?b.metaKey:b.ctrlKey};a.C.Z$=(window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,0)}).bind(window);a.C.aP=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(a){return window.clearTimeout(a)}).bind(window);a.C.Y2=function(b){function c(a){var b=!1;if(null!=D.offsetParent){var e=D.offsetWidth,g=D.offsetHeight;if(C!==e||H!==g)q=l,h(e,g),b=!0,a&&d(!0)}return b}function d(c){var e=b.offsetWidth,g=b.offsetHeight;n.has()&&
(c?(null!==E&&a.C.aP(E),E=a.C.Z$(function(){E=null;n.fire(e,g)})):n.fire(e,g));for(c=0;c<m.length;c++)m[c].LJ()(e,g)}function e(a){a.stopPropagation();!c(!0)&&0<q&&null!=D.offsetParent&&(0==D.scrollLeft||0==D.scrollTop)&&(q--,h(C,H))}function g(){d(!1)}function h(a,b){C=a;H=b;var c=D.firstChild.style,d=1;do c.width=a+d+"px",c.height=b+d+"px",D.scrollLeft=D.scrollTop=d,d++;while((0==D.scrollTop||0==D.scrollLeft)&&5>=d);A.scrollLeft=a;A.scrollTop=b}var n=f.Callbacks(),m=[],k=[],l=2,q=0,E=null,C=null,
H=null,D=null,A=null,G=null,F=null;this.addListener=function(b,c){void 0===c||0===c?n.add(b):(m.push(new a.C.m5(b,c)),k.push(b))};this.removeListener=function(a){var b=k.indexOf(a);0<=b?(k.splice(b,1),m.splice(b,1)[0].stop()):n.remove(a)};this.Ig=function(){return!n.has()&&0==k.length};this.start=function(){F=e.bind(this);if(b.attachEvent)G=g.bind(this),b.attachEvent("onresize",G);else{var a=b.childNodes[0];D=document.createElement("div");D.className="oj-helper-detect-expansion";var c=document.createElement("div");
D.appendChild(c);null!=a?b.insertBefore(D,a):b.appendChild(D);D.addEventListener("scroll",F,!1);A=document.createElement("div");A.className="oj-helper-detect-contraction";a=document.createElement("div");a.style.width="200%";a.style.height="200%";A.appendChild(a);b.insertBefore(A,D);A.addEventListener("scroll",F,!1);this.ul(!1)}};this.stop=function(){null!=E&&(a.C.aP(E),E=null);null!=D?(D.removeEventListener("scroll",F),A.removeEventListener("scroll",F),b.removeChild(D),b.removeChild(A)):b.detachEvent("onresize",
G)};this.ul=function(a){var b=c(a);a&&!b&&null!=D.offsetParent&&h(C,H)}};a.C.vt="_ojResizeTracker";a.C.FB=function(a){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(a)};a.C.m5=function(a,b){function c(){e=Array.prototype.slice.call(arguments);null==g&&(g=window.setTimeout(d,b))}function d(){a.apply(null,e);g=null}var e=null,g=null;this.LJ=function(){return c};this.stop=function(){null!=g&&(window.clearTimeout(g),g=null)}};a.C.sf=function(){return"ontouchend"in document};a.C.u_=function(b){a.C.waa=b};a.C.unwrap=
function(b,c){var d=a.C.waa;d&&d==b.parent().get(0)||(1<arguments.length?c.replaceWith(b):b.unwrap())};a.C.lZ=function(b){function c(b){var d=b.target,e=f(d),g=d.getBoundingClientRect(),h=a.C.cga(),p="ltr"===a.C.rs();return p&&("HTML"===d.nodeName||"visible"!==e.css("overflow-x"))&&b.clientX>g.right-h?!0:!p&&"HTML"===d.nodeName&&b.clientX>g.left-h?!0:!p&&"visible"!==e.css("overflow-x")&&b.clientX<g.left+h?!0:("HTML"===d.nodeName||"visible"!==e.css("overflow-y"))&&b.clientY>g.bottom-h?!0:!1}if(!("clientX"in
b&&"clientY"in b))return!1;var d=a.Qa.fw();if(a.Qa.ni.vL===d.os||a.Qa.ni.GC===d.os)b=!1;else{var e;if(a.Qa.Nl.HL===d.engine)try{e=b.originalTarget.localName?!1:!0}catch(g){e=!0}else e=a.Qa.Nl.UC===d.engine?c(b):a.Qa.Ll.FC===d.browser?c(b):!1;b=e}return b};a.C.cga=function(){var b=a.C.cda;if(f.isNumeric(b))return b;b=f("\x3cdiv /\x3e");f(document.body).append(b);b.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var c=f("\x3cdiv /\x3e");c.height(1);b.append(c);
var c=c.width(),d=b.width();b.remove();return b=a.C.cda=d-c};a.C.rs=function(){var a=document.documentElement.getAttribute("dir");a&&(a=a.toLowerCase());return"rtl"===a?"rtl":"ltr"};a.C.Vfa=function(a){return isNaN(a)?a&&0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0:a};a.C.Ufa=function(a){return isNaN(a)?a&&0<a.length?(a=parseFloat(a),isNaN(a)&&(a=0),a):0:a};a.C.Zia=function(a,b){function c(a,b){return-2>a.top-b.top||-2>b.bottom-a.bottom||-2>a.left-b.left||2<a.right-b.right?!1:!0}function d(a){return"visible"!==
a.css("overflow-x")||"visible"!==a.css("overflow-y")}if(!a)return!1;var e=a[0].getBoundingClientRect();if(b&&!c(e,f(document.body).offset()))return!1;for(var g=!0,h=a.parent();g&&h&&0<h.length&&1===h[0].nodeType;)d(h)&&(g=h[0].getBoundingClientRect(),g=c(e,g)),h=h.parent();return g};a.C.kD="oj-logical-parent";a.C.Zfa=function(b){if(b)return b.data(a.C.kD)};a.C.v_=function(b,c){b&&(null===c?b.removeData(a.C.kD):b.data(a.C.kD,c))};a.C.Hga=function(b,c){a.j.Cg(b);a.j.Cg(c);for(var d=c;d;){if(d==b)return!0;
var e=a.C.Zfa(f(d)),d=e?e[0]:d.parentNode}return!1};a.C.Pha=function(a){var b=document.createElement("a");b.href=a;a=b.protocol;null!=a&&(a=a.toLowerCase());if(0>["http:","https:"].indexOf(a))throw a+" is not a valid URL protocol";};a.fd={};a.fd.UN=":tabbable";a.fd.kB=function(b){var c=document.activeElement;return b&&c?a.C.nn(b,c):!1};a.fd.ew=function(a){a.focus()};a.fd.HJ=function(b){(b=a.fd.xY(b))&&a.fd.ew(b)};a.fd.xY=function(b){var c=f(b);return c.is(a.fd.UN)?b:(b=c.find(a.fd.UN))&&0<b.length?
b[0]:null};f(document).ready(function(){var a=f("\x3cdiv style\x3d'border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs\x3d);'\x3e\x3c/div\x3e"),b;a.appendTo("body");b=a.css("backgroundImage");a.css("borderTopColor")!=a.css("borderRightColor")&&(null==b||"none"!=b&&"url (invalid-url:)"!=b)||f("body").addClass("oj-hicontrast");a.remove()});f(document).ready(function(){"Microsoft Internet Explorer"==
navigator.appName&&f("html").addClass("oj-slow-borderradius oj-slow-cssgradients oj-slow-boxshadow")});a.ri={};o_("Test",a.ri,a);a.ri.ready=!1;o_("Test.ready",a.ri.ready,a);a.ri.Ifa=function(b){var c=b;if(a.Ba.rd(b))try{c=f.parseJSON(b)}catch(d){return null}return c&&c.element&&(b=f(c.element))?(b=a.Components.Gg(b[0],c.component),delete c.element,b("getNodeBySubId",c)):null};o_("Test.domNodeForLocator",a.ri.Ifa,a);a.ri.VJ=function(){return a.N.VJ()};o_("Test.getOpenPopupCount",a.ri.VJ,a);a.ri.GJ=
function(){return a.N.GJ()};o_("Test.findOpenPopups",a.ri.GJ,a);a.ri.wJ=function(b,c){return a.N.wJ(b,c)};o_("Test.compareStackingContexts",a.ri.wJ,a)});